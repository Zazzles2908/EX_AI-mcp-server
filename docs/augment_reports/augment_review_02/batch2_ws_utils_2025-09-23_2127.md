# P2 Batch 2 — ws utilities & shims — 2025-09-23 21:27

- YES — Deprecation banners added to top-level shims; server running; WS health OK; chat smoke produced real model output.

## Changes (no behavior change)
- Added deprecation header banners to:
  - scripts/ws_exercise_all_tools.py
  - scripts/ws_exercise_all_tools_noauth.py
  - scripts/ws_chat_once.py
  - scripts/run_ws_daemon.py
  - scripts/router_service_diagnostics_smoke.py
  - scripts/validate_quick.py

## Validations
- WS daemon listening on 127.0.0.1:8765 (activity logs)
- Telemetry touchpoint initialized (no‑op) on startup
- Chat smoke (glm-4.5-flash):
  - Prompt: Return only this exact nonce on a single line: marigold-wisp-7f2a
  - Output (real model): marigold-wisp-7f2a
  - Duration: ~2.5s

## Notes
- Canonical ws utilities already exist under scripts/ws; top-level files serve as backward‑compatible shims.
- No file moves needed in this batch; next batch can trim legacy bodies in top‑level files if desired (convert to minimal trampolines).

## Next
1) Expand banners to any remaining top-level shims (quick scan)
2) Optional: Slim top-level wrappers to pure trampoline (no duplicate bodies)
3) Proceed to validation/diagnostics batches (moves + shims), restart + smoke

